# @package _group_

train:
  _target_: src.dataset.AnnotatedDatasetFolder
  
  # 訓練・検証用のアノテーションCSVファイル
  annotation_file: "conf/dataset/annotations.csv"
  # 訓練・検証用の画像フォルダ
  root: "conf/dataset/HDR_subdataset"
  
  loader:
    _target_: src.dataset.pil_loader
  
  transform:
  #データ拡張（8/05）画像変換の設定を変更
      _target_: torchvision.transforms.v2.Compose
      transforms:
        - _target_: torchvision.transforms.v2.ToImage
        - _target_: torchvision.transforms.v2.RandomResizedCrop #ランダムに切り抜いてリサイズする
          size: 224 #モデルの入力サイズに合わせて調整
        - _target_: torchvision.transforms.v2.RandomHorizontalFlip #左右反転
          p: 0.5
        - _target_: torchvision.transforms.v2.RandomRotation #回転
          degrees: 15
        - _target_: torchvision.transforms.v2.RandomVerticalFlip #上下反転
          p: 0.5
        - _target_: torchvision.transforms.v2.ToDtype #テンソルに変換
          dtype: ${torch.float32}
          scale: True
        - _target_: torchvision.transforms.v2.Normalize #ピクセル値を正規化して、モデルが学習
          mean: [0.485, 0.456, 0.406]
          std: [0.229, 0.224, 0.225]

random_split:
  # (学習データ数, 検証データ数)
  # annotations.csv に記載され、実際に存在する画像の総数に合わせて設定
  lengths: [3000, 640]